<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/myStyle.css">
<script>

    function proc1(){
        input = prompt("주민번호를 입력해주세요");
        yr = parseInt(input.slice(0,2));
        month = parseInt(input.slice(2,4));
        day = input.slice(4,6);
        genderChk = parseInt(input.charAt(8));
        gender = "";
        
        if (genderChk == 1) {
            yr = 1900 + yr;
            gender = "남자";
        } else if (genderChk == 2){
            yr = 1900 + yr;
            gender = "여자";
        } else if (genderChk == 3 ){
            yr = 2000 + yr;
            gender = "남자";
        } else if(genderChk == 4){
            yr = 2000 + yr;
            gender = "여자";
        }
        
        today = new Date();
        birth = yr + "년 " + month + "월 " + day + "일";
        age = today.getFullYear() - yr;
        
        res = "생일 : " + birth + "<br>성별 : " + gender + "<br> 나이 : " + age;
        document.getElementById("result1").innerHTML = res;
        
    }
    
    function proc2() {
        input = prompt("주민번호를 입력해주세요");
        input = input.replace("-","");
        sum = 0;
        for(i = 0; i <= 7; i++){
            sum += parseInt(input.charAt(i)) * (i+2);
        }
        for(i = 8; i <= 11; i++){
            sum += parseInt(input.charAt(i)) * (i-6);
        }
        res = 11 - sum % 11;
        res = res % 10;
        output = "입력 : " + input.slice(0,6) + "-" + input.charAt(7) + "******<br>";
        if(res == input.charAt(12)){
            output += "유효한 주민번호입니다.";
        } else {
            output += "유효하지 않은 주민번호입니다.";
        }
        document.getElementById("result2").innerHTML = output;
    }

</script>
</head>
<body>
    <div class="box">
        <h2>문제1</h2>
        <pre>
예) 주민등록번호를 110326-4432618로 입력 받은 경우
생일 : 2011년 3월 26일
성별 : 여자  나이: 
        </pre>
        <button type="button" onclick="proc1()">실행</button>
        <div id="result1"></div>
    </div>

    <div class="box">
        <h2>문제2</h2>
        <pre>
주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)
1. A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.
2. 1번의 합을 11로 나눈 나머지를 구한다.
3. 11에서 2번의 결과를 뺀다.
4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환
5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.
        </pre>
        <button type="button" onclick="proc2()">실행</button>
        <div id="result2"></div>
    </div>
</body>
</html>